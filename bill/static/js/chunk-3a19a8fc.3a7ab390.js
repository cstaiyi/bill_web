(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3a19a8fc"],{"66ba":function(a,t,e){"use strict";e.r(t);var i=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",[e("div",{staticClass:"view-archives-archivesIndex"},[e("Button",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"primary"},on:{click:a.addClick}},[a._v("新增账本")]),e("Table",{attrs:{loading:a.loading,border:"",columns:a.tbColumns,data:a.tbData}}),e("Row",[e("Col",{attrs:{span:"24"}},[e("div",{staticClass:"page"},[e("Page",{attrs:{total:a.total,current:a.pageParams.current,"page-size":a.pageParams.size,"show-total":""},on:{"on-change":a.onChange}})],1)])],1)],1),e("Modal",{attrs:{title:"账本信息"},on:{"on-ok":function(t){return a.ok("refVallidate")},"on-cancel":function(t){return a.cancel("refVallidate")}},model:{value:a.modal1,callback:function(t){a.modal1=t},expression:"modal1"}},[e("div",{staticClass:"form"},[e("i-form",{ref:"refVallidate",attrs:{model:a.formValidate,"label-width":100}},[e("Form-item",{attrs:{label:"账本名称：",prop:""}},[e("Input",{staticStyle:{width:"300px"},model:{value:a.formValidate.name,callback:function(t){a.$set(a.formValidate,"name",t)},expression:"formValidate.name"}})],1),""==a.formValidate.id||null==a.formValidate.id?e("Form-item",{attrs:{label:"账本账号：",prop:""}},[e("Input",{staticStyle:{width:"300px"},model:{value:a.formValidate.user,callback:function(t){a.$set(a.formValidate,"user",t)},expression:"formValidate.user"}})],1):a._e(),""==a.formValidate.id||null==a.formValidate.id?e("Form-item",{attrs:{label:"账本密码：",prop:""}},[e("Input",{staticStyle:{width:"300px"},attrs:{type:"password"},model:{value:a.formValidate.password,callback:function(t){a.$set(a.formValidate,"password",t)},expression:"formValidate.password"}})],1):a._e()],1)],1)])],1)},s=[],o=(e("7f7f"),{name:"archivesIndex",components:{},data:function(){var a=this;this.$createElement;return{pageParams:{current:1,size:10},total:0,detailId:"",editFlag:1,addShow:!1,detailShow:!1,loading:!1,modal1:!1,formValidate:{id:"",name:"",user:"",password:""},tbColumns:[{title:"账本名称",key:"name",width:300},{title:"账本账号",key:"user",width:300},{title:"创建时间",key:"createTime",minWidth:300},{title:"操作",key:"action",width:200,fixed:"right",align:"center",render:function(t,e){return t("div",[t("i-button",{attrs:{type:"warning",size:"small"},on:{click:function(){a.updateClick(e.row)}}},["修改"]),"  ",t("i-button",{attrs:{type:"error",size:"small"},on:{click:function(){a.deleteClick(e.row)}}},["删除"])])}}],tbData:[]}},mounted:function(){this.queryData()},methods:{queryData:function(){var a=this;this.$axios.request({url:this.$api.register.pageBillUserInfo,params:this.pageParams,method:"get"}).then(function(t){if(200===t.data.code){a.total=t.data.total,a.tbData=t.data.data;var e=window.localStorage.getItem("userInfo");JSON.parse(e)}else a.$Message.warning(t.data.message);a.loading=!1})},addClick:function(){this.editFlag=1,this.modal1=!0},updateClick:function(a){this.formValidate.id=a.id,this.formValidate.user=a.user,this.formValidate.password=a.password,this.formValidate.name=a.name,this.editFlag=2,this.modal1=!0},onChange:function(a){this.pageParams.current=a,this.queryData()},deleteClick:function(a){var t=this;this.$Modal.confirm({title:"删除",content:"<h4>确认删除该条数据吗？</h4>",onOk:function(){t.$axios.request({url:t.$api.register.delete,data:a,method:"post"}).then(function(a){200===a.data.code?(t.queryData(),t.$Message.success(a.data.message)):t.$Message.warning(a.data.message)})}})},ok:function(){var a=this;return 1!=this.editFlag||this.formValidate.user?1!=this.editFlag||this.formValidate.password?void this.$axios.request({url:this.$api.register.addOrUpdate,data:this.formValidate,method:"post"}).then(function(t){200===t.data.code?(a.modal1=!1,a.queryData(),a.$Message.success(t.data.message),a.formValidate={}):a.$Message.warning(t.data.message)}):(this.modal1=!1,void this.$Message.warning("账本密码不能为空")):(this.modal1=!1,void this.$Message.warning("账本账号不能为空"))},cancel:function(){this.modal1=!1,this.formValidate={}}}}),r=o,n=(e("6aa7"),e("2877")),l=Object(n["a"])(r,i,s,!1,null,null,null);t["default"]=l.exports},"6aa7":function(a,t,e){"use strict";var i=e("8dc0"),s=e.n(i);s.a},"8dc0":function(a,t,e){}}]);