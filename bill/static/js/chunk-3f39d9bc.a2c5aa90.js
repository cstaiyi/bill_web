(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3f39d9bc"],{"1a8f":function(t,e,a){"use strict";var i=a("1f22"),n=a.n(i);n.a},"1f22":function(t,e,a){},"2d4f":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.detailShow?t._e():a("div",{staticClass:"view-archives-archivesIndex"},[a("Button",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"primary"},on:{click:t.addClick}},[t._v("添加成员")]),a("Table",{attrs:{loading:t.loading,border:"",columns:t.tbColumns,data:t.tbData}}),a("Row",[a("Col",{attrs:{span:"24"}},[a("div",{staticClass:"page"},[a("Page",{attrs:{total:t.total,current:t.pageParams.current,"page-size":t.pageParams.size,"show-total":""},on:{"on-change":t.onChange}})],1)])],1)],1),a("Modal",{attrs:{title:"成员信息"},on:{"on-ok":function(e){return t.ok("refVallidate")},"on-cancel":function(e){return t.cancel("refVallidate")}},model:{value:t.modal1,callback:function(e){t.modal1=e},expression:"modal1"}},[a("div",{staticClass:"form"},[a("i-form",{ref:"refVallidate",attrs:{model:t.formValidate,"label-width":100}},[1==t.editFlag?a("Form-item",{attrs:{label:"成员名称：",prop:""}},[a("Input",{staticStyle:{width:"300px"},model:{value:t.formValidate.name,callback:function(e){t.$set(t.formValidate,"name",e)},expression:"formValidate.name"}})],1):t._e(),2==t.editFlag?a("Form-item",{attrs:{label:"成员名称：",prop:""}},[a("Input",{staticStyle:{width:"300px"},attrs:{disabled:""},model:{value:t.formValidate.name,callback:function(e){t.$set(t.formValidate,"name",e)},expression:"formValidate.name"}})],1):t._e(),2==t.editFlag?a("Form-item",{attrs:{label:"成员金额：",prop:""}},[a("Input",{staticStyle:{width:"300px"},model:{value:t.formValidate.money,callback:function(e){t.$set(t.formValidate,"money",e)},expression:"formValidate.money"}})],1):t._e()],1),2==t.editFlag?a("p",{staticStyle:{"margin-left":"20px",color:"red"}},[t._v("提示：要缴纳多少就填对应金额，比如缴纳500，就填500，如果想取出，就填负数")]):t._e()],1)]),t.detailShow?a("newsDetail",{attrs:{id:t.detailId,money:t.money,memberName:t.memberName},on:{goback:t.goback}}):t._e()],1)},n=[],o=(a("7f7f"),a("bd86")),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"icon",on:{click:t.goback}},[a("Button",{attrs:{type:"dashed"}},[a("Icon",{staticStyle:{fontSize:"16px"},attrs:{type:"reply"}}),t._v("返回")],1)],1),a("div",{staticStyle:{"margin-top":"40px"}},[a("span",{staticStyle:{"font-size":"20px"}},[t._v("成员 "+t._s(this.memberName)+" 流水详细信息：(目前余额："+t._s(this.money)+"元)")]),a("p",[t._v(" ")]),a("Table",{attrs:{loading:t.loading,border:"",columns:t.tbColumns,data:t.tbData}}),a("Row",[a("Col",{attrs:{span:"24"}},[a("div",{staticClass:"page"},[a("Page",{attrs:{total:t.total,current:t.pageParams.current,"page-size":t.pageParams.size,"show-total":""},on:{"on-change":t.onChange}})],1)])],1)],1)])},l=[],r={props:["id","money","memberName"],name:"archivesIndex",components:{},data:function(){return{pageParams:{current:1,size:10,id:""},userInfo:{},total:0,detailId:"",editFlag:1,addShow:!1,detailShow:!1,loading:!1,modal1:!1,formValidate:{id:"",name:"",money:0,registerId:""},tbColumns:[{title:"一级消费类型",key:"firstConsumptionName",width:150},{title:"二级消费类型",key:"secondConsumptionName",width:150},{title:"总金额",key:"billMoney",width:100},{title:"发生时间",key:"billDate",width:150},{title:"支付类型",key:"typeName",width:100},{title:"支付比例/数值",key:"typeNumberName",width:120},{title:"实际支付金额",key:"money",width:120},{title:"创建时间",key:"createTime",width:150},{title:"备注",key:"mark",minWidth:60}],tbData:[]}},mounted:function(){this.queryData()},methods:{queryData:function(){var t=this;this.pageParams.id=this.id,this.$axios.request({url:this.$api.billmember.pageBillMember,params:this.pageParams,method:"get"}).then(function(e){200===e.data.code?(t.total=e.data.total,t.tbData=e.data.data):t.$Message.warning(e.data.message),t.loading=!1})},onChange:function(t){this.pageParams.current=t,this.queryData()},goback:function(){this.$emit("goback")}}},d=r,m=(a("997d"),a("2877")),c=Object(m["a"])(d,s,l,!1,null,null,null),u=c.exports,h={name:"archivesIndex",components:{newsDetail:u},data:function(){var t,e=this;this.$createElement;return t={pageParams:{current:1,size:10,registerId:""},userInfo:{},total:0,detailId:"",memberName:"",money:0,editFlag:1,addShow:!1,detailShow:!1,loading:!1,modal1:!1},Object(o["a"])(t,"detailId",""),Object(o["a"])(t,"formValidate",{id:"",name:"",money:0,registerId:""}),Object(o["a"])(t,"tbColumns",[{title:"成员名称",key:"name",width:300},{title:"成员金额",key:"money",width:300},{title:"创建时间",key:"createTime",minWidth:300},{title:"操作",key:"action",width:200,fixed:"right",align:"center",render:function(t,a){return t("div",[t("i-button",{attrs:{type:"info",size:"small"},on:{click:function(){e.detailClick(a.row)}}},["详情"]),"  ",t("i-button",{attrs:{type:"warning",size:"small"},on:{click:function(){e.updateClick(a.row)}}},["缴纳"]),"  ",t("i-button",{attrs:{type:"error",size:"small"},on:{click:function(){e.deleteClick(a.row)}}},["删除"])])}}]),Object(o["a"])(t,"tbData",[]),t},mounted:function(){var t=window.localStorage.getItem("userInfo");this.userInfo=JSON.parse(t),this.queryData()},methods:{queryData:function(){var t=this;this.pageParams.registerId=this.userInfo.id,this.$axios.request({url:this.$api.member.pageMember,params:this.pageParams,method:"get"}).then(function(e){200===e.data.code?(t.total=e.data.total,t.tbData=e.data.data):t.$Message.warning(e.data.message),t.loading=!1})},addClick:function(){this.editFlag=1,this.modal1=!0},updateClick:function(t){this.formValidate.id=t.id,this.formValidate.name=t.name,this.formValidate.money=0,this.editFlag=2,this.modal1=!0},onChange:function(t){this.pageParams.current=t,this.queryData()},goback:function(){this.detailShow=!1,this.queryData()},detailClick:function(t){this.money=t.money,this.memberName=t.name,this.detailId=t.id,this.detailShow=!0},deleteClick:function(t){var e=this;this.$Modal.confirm({title:"删除",content:"<h4>确认删除该条数据吗？</h4>",onOk:function(){e.$axios.request({url:e.$api.member.delete,data:t,method:"post"}).then(function(t){200===t.data.code?(e.queryData(),e.$Message.success(t.data.message)):e.$Message.warning(t.data.message)})}})},ok:function(){var t=this;this.formValidate.registerId=this.userInfo.id,this.$axios.request({url:this.$api.member.addOrUpdate,data:this.formValidate,method:"post"}).then(function(e){200===e.data.code?(t.modal1=!1,t.queryData(),t.$Message.success(e.data.message),t.formValidate={}):t.$Message.warning(e.data.message)})},cancel:function(){this.modal1=!1,this.formValidate={}}}},f=h,p=(a("1a8f"),Object(m["a"])(f,i,n,!1,null,null,null));e["default"]=p.exports},"8e29":function(t,e,a){},"997d":function(t,e,a){"use strict";var i=a("8e29"),n=a.n(i);n.a}}]);